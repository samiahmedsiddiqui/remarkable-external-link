sudo: false

language: node_js
node_js:
  - 6
  - 7
  - 8
  - 9
  - 10
  - 11
  - 12
  - 13
  - 14
  - node
os:
  - linux
  - osx

stages:
  - ESLint test
    if: |
      node -v = 10 \
      OR node -v = 11 \

  - Code test

jobs:
  include:
    - stage: ESLint test
      script: npm run lint
    - stage: Code test
      script:
        - npm run test:single
        - npm run test:subdomain
